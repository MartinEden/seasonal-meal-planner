{% extends 'base.html' %}
{% load static %}

{% block script %}
<script type="text/javascript" src="{% static 'editrecipes/scripts/datepicker.js' %}"></script>
<script type="text/javascript" src="{% static 'editrecipes/scripts/planweek.js' %}"></script>
{{ guests|json_script:"guests-data" }}
<script type="text/javascript">
  $(function() {
    setupDatePickers();
    ko.applyBindings(new WeekPlan());
  });
</script>
{% endblock %}

{% block title %}Plan week{% endblock %}

{% block content %}

<div class="row">
    <div class="col-12">
        <label for="from">From</label>
        <input type="text" id="from" name="from" data-bind="value: fromDate.text">
        <label for="to">to</label>
        <input type="text" id="to" name="to" data-bind="value: toDate.text">
    </div>
</div>

<div class="row">
    <div class="col-12 mt-3">
        <h2>Constraints</h2>
        {% include "tag-constraint.html" %}
        <!--  <label for = "autocomplete-ingredient">Use up ingredients: </label>
          <input id = "autocomplete-ingredient">
          <label for = "autocomplete-ingredient-2">Consider ingredients: </label>
          <input id = "autocomplete-ingredient-2">
        -->
    </div>
</div>
<div class="row">
    <div class="col-12 mt-3">
        <h2>Guests</h2>
        <ul data-bind="foreach: people">
            <li><span data-bind="text: name"></span></li>
        </ul>
    </div>

    <div class="row mt-5">
        <div class="col-12">
            <table class="table">
                <tr>
                    <th></th>
                    <th>People</th>
                    <th>Meal</th>
                </tr>
                <tbody data-bind="foreach: days">
                <tr>
                    <td data-bind="text: name"></td>
                    <td><input type="number"/><span data-bind="text: guests"></span></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <br/><br/><br/><br/><br/><br/><br/><br/>

    <div>
        [List of days]
        [Add guest UI - single UI for whole week, click on day first to assign]
        [Additional per-meal requirements e.g. cooking time; to be added later, currently no info in meal planner]
    </div>
    <div>
        Constraints:
        Tag - max/min - quantity
        (default: max 1 meat, min 1 fish)
    </div>
    <button></button>
    [Button - select randomly correct quantity of meals that meet requirements]
    <div>
        [Display results]
    </div>
    {% endblock %}